"use strict";(self.webpackChunkcurvine_doc=self.webpackChunkcurvine_doc||[]).push([[4878],{6681:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>o});var i=r(7292),s=r(4848),a=r(8453);const t={authors:["david","barry"],tags:["benchmark"]},l="\u4ece0\u52301\u6784\u5efaCurvine\u96c6\u7fa4&FIO\u6d4b\u8bd5",c={authorsImageUrls:[void 0,void 0]},o=[{value:"1. \u4e0b\u8f7d\u4ee3\u7801\uff1a",id:"1-\u4e0b\u8f7d\u4ee3\u7801",level:2},{value:"2.\u73af\u5883\u8981\u6c42\uff1a",id:"2\u73af\u5883\u8981\u6c42",level:2},{value:"3. \u7f16\u8bd1&amp;&amp;\u8fd0\u884c",id:"3-\u7f16\u8bd1\u8fd0\u884c",level:2},{value:"4.\u7f16\u8bd1\u5b8c\u6210\uff0c\u542f\u52a8\u672c\u5730\u96c6\u7fa4",id:"4\u7f16\u8bd1\u5b8c\u6210\u542f\u52a8\u672c\u5730\u96c6\u7fa4",level:2},{value:"5. \u67e5\u770b\u672c\u5730master\u548cworker\u7684webui",id:"5-\u67e5\u770b\u672c\u5730master\u548cworker\u7684webui",level:2},{value:"6. FIO\u6d4b\u8bd5",id:"6-fio\u6d4b\u8bd5",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u5982\u4f55\u5feb\u901f\u4e0a\u624b\u8bd5\u8bd5Curvine\u7684\u6548\u679c\uff1f\u8fd9\u7bc7\u6587\u7ae0\u5c06\u4ecb\u7ecd\u5982\u4f55\u4ece0\u52301\u6784\u5efa\u4e00\u4e2a\u672c\u5730\u5c0f\u96c6\u7fa4\uff0c\u8ba9\u5927\u5bb6\u5feb\u901f\u4e0a\u624b\u3002"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["github\uff1a ",(0,s.jsx)(n.a,{href:"https://github.com/CurvineIO/curvine",children:"https://github.com/CurvineIO/curvine"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-\u4e0b\u8f7d\u4ee3\u7801",children:"1. \u4e0b\u8f7d\u4ee3\u7801\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/CurvineIO/curvine.git\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2\u73af\u5883\u8981\u6c42",children:"2.\u73af\u5883\u8981\u6c42\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"GCC: version 10 or later \nRust: version 1.86 or later \nProtobuf: version 3.x\nMaven: version 3.8 or later\nLLVM: version 12 or later\nFUSE: libfuse2 or libfuse3 development packages\nJDK: version 1.8 or later \nnpm: version 9 or later\nPython: version 3.7 or later \n"})}),"\n",(0,s.jsx)(n.p,{children:"\u53c2\u8003"}),"\n",(0,s.jsx)(n.h2,{id:"3-\u7f16\u8bd1\u8fd0\u884c",children:"3. \u7f16\u8bd1&&\u8fd0\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"make all\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e3a\u65b9\u4fbf\u5927\u5bb6\u7f16\u8bd1\uff0c\u6211\u4eec\u505a\u7f16\u8bd1\u811a\u672c\u91cc\u4f1a\u63d0\u524d\u505a\u4f9d\u8d56\u7ec4\u4ef6\u68c0\u67e5\uff0c\u5bf9\u4e8eMacOS\u7cfb\u7edf\u7684\u7528\u6237\uff0c\u6682\u65f6\u4f1a\u9009\u62e9\u8df3\u8fc7FUSE\u7684\u7f16\u8bd1\uff08\u76ee\u524d\u6ca1\u9002\u914dmac\u7cfb\u7edf\uff09\u3002 \u611f\u5174\u8da3\u7684\u670b\u53cb\u53ef\u4ee5\u8003\u8651\u4f7f\u7528",(0,s.jsx)(n.code,{children:"macfuse"}),"\u9879\u76ee\uff0c\u8fdb\u884c\u9002\u914d\u3002"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"make-checkenv",src:r(8172).A+"",width:"1080",height:"692"})}),"\n",(0,s.jsx)(n.h2,{id:"4\u7f16\u8bd1\u5b8c\u6210\u542f\u52a8\u672c\u5730\u96c6\u7fa4",children:"4.\u7f16\u8bd1\u5b8c\u6210\uff0c\u542f\u52a8\u672c\u5730\u96c6\u7fa4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd build/dist\n./bin/restart-all.sh\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u542f\u52a8\u6210\u529f\u540e\uff0c\u6267\u884creport\u547d\u4ee4\uff0c\u68c0\u67e5\u662f\u5426\u6210\u529f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\nbin/cv report\n\n       active_master: localhost:8995\n       journal_nodes: 1,localhost:8996\n            capacity: 233.5GB\n           available: 105.0GB (44.99%)\n             fs_used: 0.0B (0.00%)\n         non_fs_used: 128.4GB\n     live_worker_num: 1\n     lost_worker_num: 0\n           inode_num: 0\n           block_num: 0\n    live_worker_list: 192.168.xxx.xxx:8997,105.0GB/233.5GB (44.99%)\n    lost_worker_list:\n"})}),"\n",(0,s.jsx)(n.h2,{id:"5-\u67e5\u770b\u672c\u5730master\u548cworker\u7684webui",children:"5. \u67e5\u770b\u672c\u5730master\u548cworker\u7684webui"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost:9000/\nhttp://localhost:9001/\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"webui",src:r(7034).A+"",width:"1080",height:"479"})}),"\n",(0,s.jsx)(n.h2,{id:"6-fio\u6d4b\u8bd5",children:"6. FIO\u6d4b\u8bd5"}),"\n",(0,s.jsxs)(n.p,{children:["\u6d4b\u8bd5\u73af\u5883\uff1a\u963f\u91cc\u4e91 ",(0,s.jsx)(n.code,{children:"ecs.r8a.8xlarge"})," \u673a\u578b master/woker/client \u5404\u4e00\u53f0"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"32 \u6838\uff08vCPU\uff09"}),"\n",(0,s.jsx)(n.li,{children:"256 GiB \u5185\u5b58"}),"\n",(0,s.jsx)(n.li,{children:"\u7cfb\u7edf\u76d8 \u548c \u6570\u636e\u76d8 \u5747\u4e3a\uff1aESSD \u4e91\u76d8 500 GiB(7800 IOPS)"}),"\n",(0,s.jsx)(n.li,{children:"\u6700\u5927\u5e26\u5bbd\uff1a25Gb"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u51c6\u5907\u6570\u636e\uff08\u5728worker\u673a\u5668\uff09\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bin/curvine-bench.sh fuse.write\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"fio\u987a\u5e8f\u8bfb\u6d4b\u8bd5\uff0c8\u5e76\u53d1"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"fio -iodepth=1 -rw=read -ioengine=libaio -bs=256k\n -group_reporting -size=200gb \n -filename=/curvine-fuse/fs-bench/0  \n -name=read_test --readonly -direct=1 --runtime=60 \n -numjobs=8\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"fio\u968f\u673a\u8bfb\u6d4b\u8bd5\uff0c8\u5e76\u53d1"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"\nfio -iodepth=1 -rw=randread -ioengine=libaio -bs=256k\n -group_reporting -size=200gb \n -filename=/curvine-fuse/fs-bench/0  \n -name=read_test --readonly -direct=1 --runtime=60\n -numjobs=8\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u540e\uff0c\u89c6\u9891\u6f14\u793a\u4e00\u4e0b\uff0c\u505a\u4e00\u4e0bfio\u6d4b\u8bd5\u7684\u6548\u679c\uff1a"})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},7034:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/webui-99651178199aa9d72a8134fbccfd482e.png"},7292:e=>{e.exports=JSON.parse('{"permalink":"/zh-cn/blog/2025/08/08/fio-bench","editUrl":"https://github.com/curvineio/curvine-doc/edit/main/blog/blog/2025-08-08-fio-bench/index.md","source":"@site/i18n/zh-cn/docusaurus-plugin-content-blog/2025-08-08-fio-bench/index.md","title":"\u4ece0\u52301\u6784\u5efaCurvine\u96c6\u7fa4&FIO\u6d4b\u8bd5","description":"\u5982\u4f55\u5feb\u901f\u4e0a\u624b\u8bd5\u8bd5Curvine\u7684\u6548\u679c\uff1f\u8fd9\u7bc7\u6587\u7ae0\u5c06\u4ecb\u7ecd\u5982\u4f55\u4ece0\u52301\u6784\u5efa\u4e00\u4e2a\u672c\u5730\u5c0f\u96c6\u7fa4\uff0c\u8ba9\u5927\u5bb6\u5feb\u901f\u4e0a\u624b\u3002","date":"2025-08-08T00:00:00.000Z","tags":[{"inline":false,"label":"benchmark","permalink":"/zh-cn/blog/tags/benchmark","description":"benchmark of curvine"}],"readingTime":1.75,"hasTruncateMarker":false,"authors":[{"name":"David","title":"Founder of Curvine","url":"https://curvine.io","page":{"permalink":"/zh-cn/blog/authors/all-sebastien-lorber-articles"},"socials":{"github":"https://github.com/szbr9486","x":"https://x.com/szbr8896"},"key":"david"},{"name":"Barry","title":"Senior Engineer","url":"https://curvine.io","page":{"permalink":"/zh-cn/blog/authors/barry"},"socials":{"github":"https://github.com/lzjqsdd","x":"https://x.com/infmaxtop"},"imageURL":"https://infmax.top/img/author.png","key":"barry"}],"frontMatter":{"authors":["david","barry"],"tags":["benchmark"]},"unlisted":false,"prevItem":{"title":"Curvine \u5206\u5e03\u5f0f\u7f13\u5b58\u7cfb\u7edf\u4f7f\u7528\u6307\u5357","permalink":"/zh-cn/blog/2025/09/28/user-guide"},"nextItem":{"title":"Curvine: \u9ad8\u6027\u80fd\u5206\u5e03\u5f0f\u7f13\u5b58\u2014\u2014DataFun\u6570\u667a\u5927\u4f1a","permalink":"/zh-cn/blog/2025/07/25/datafun-conference"}}')},8172:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/make-checkenv-f5dbd19e6cb852ce3b7bcecf4a6be804.png"},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var i=r(6540);const s={},a=i.createContext(s);function t(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);