"use strict";(self.webpackChunkcurvine_doc=self.webpackChunkcurvine_doc||[]).push([[8129],{1103:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>u,contentTitle:()=>t,default:()=>x,frontMatter:()=>s,metadata:()=>c,toc:()=>d});const c=JSON.parse('{"id":"Deploy/quick-start","title":"\u5feb\u901f\u5f00\u59cb","description":"\u672c\u7ae0\u8282\u5c06\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u542f\u52a8curvine\u96c6\u7fa4\uff0c\u5e76\u4e14\u8fdb\u884c\u8bfb\u5199\u6570\u636e\u6d4b\u8bd5\u3002","source":"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/2-Deploy/01-quick-start.md","sourceDirName":"2-Deploy","slug":"/Deploy/quick-start","permalink":"/zh-cn/docs/Deploy/quick-start","draft":false,"unlisted":false,"editUrl":"https://github.com/curvineio/curvine-doc/edit/main/docs/2-Deploy/01-quick-start.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"\u6280\u672f\u67b6\u6784","permalink":"/zh-cn/docs/Overview/architecture"},"next":{"title":"\u90e8\u7f72\u96c6\u7fa4","permalink":"/zh-cn/docs/Deploy/deploy"}}');var o=r(4848),i=r(8453);const s={sidebar_position:0},t="\u5feb\u901f\u5f00\u59cb",u={},d=[{value:"\u4e0b\u8f7d\u548c\u7f16\u8bd1curvine",id:"\u4e0b\u8f7d\u548c\u7f16\u8bd1curvine",level:2},{value:"\u542f\u52a8\u672c\u5730\u96c6\u7fa4",id:"\u542f\u52a8\u672c\u5730\u96c6\u7fa4",level:2},{value:"\u8bfb\u5199\u6570\u636e",id:"\u8bfb\u5199\u6570\u636e",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"})}),"\n",(0,o.jsx)(e.p,{children:"\u672c\u7ae0\u8282\u5c06\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u542f\u52a8curvine\u96c6\u7fa4\uff0c\u5e76\u4e14\u8fdb\u884c\u8bfb\u5199\u6570\u636e\u6d4b\u8bd5\u3002"}),"\n",(0,o.jsx)(e.h2,{id:"\u4e0b\u8f7d\u548c\u7f16\u8bd1curvine",children:"\u4e0b\u8f7d\u548c\u7f16\u8bd1curvine"}),"\n",(0,o.jsx)(e.p,{children:"\u4e0b\u8f7d\u4ee3\u7801\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"git clone https://github.com/CurvineIO/curvine.git ./\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u4e0b\u8f7d\u7684\u4ee3\u7801\u4e2d\uff0ccurvine-docker/compile\uff0c\u5305\u542b\u4e86\u5404\u79cd\u6784\u5efa\u7f16\u8bd1\u955c\u50cf\u7684Dockerfile\uff0c \u53ef\u4ee5\u6839\u636e\u9700\u8981\u9009\u62e9\u6587\u4ef6\uff0c\u6784\u5efa\u4e00\u4e2a\u7f16\u8bd1\u955c\u50cf\uff0c\n\u5982\u4e0b\u4ee5rocky9\u4e3a\u4f8b\uff0c\u6784\u5efa\u4e00\u4e2a\u7f16\u8bd1\u955c\u50cf\uff0c\u5e76\u4e14\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668\uff0c\u8fdb\u884c\u7f16\u8bd1\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"cd curvine-docker/compile\n\ndocker build -f Dockerfile_rocky9 -t curvine-compile:rocky9 .\n\ndocker run -itd --name curvine-compile \\\n-u root --privileged=true \\\n-v /code:/code  \\\ncurvine-compile:rocky9 /bin/bash\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u7f16\u8bd1\u4ee3\u7801\uff0c\u7f16\u8bd1\u53ef\u80fd\u9700\u8981\u6570\u5206\u949f\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u673a\u5668\u6027\u80fd\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"docker exec -it curvine-compile /bin/bash\ncd /code/curvine\nsh build/build.sh\n"})}),"\n",(0,o.jsx)(e.h2,{id:"\u542f\u52a8\u672c\u5730\u96c6\u7fa4",children:"\u542f\u52a8\u672c\u5730\u96c6\u7fa4"}),"\n",(0,o.jsx)(e.p,{children:"\u7f16\u8bd1\u7684\u4ee3\u7801\u5728build/dist\u76ee\u5f55\u4e0b\uff0c\u542f\u52a8\u4e00\u4e2a\u672c\u5730\u96c6\u7fa4\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"cd build/dist\n./bin/restart-all.sh\n"})}),"\n",(0,o.jsx)(e.p,{children:"restart-all.sh\u811a\u672c\u4f1a\u542f\u52a8curvine master\u548cworker\uff0c \u5e76\u5c06master\u548cworker\u7684\u65e5\u5fd7\u8f93\u51fa\u5230logs\u76ee\u5f55\u4e0b\uff1b\n\u540c\u65f6\u4f1a\u6267\u884c\u6302\u8f7d\u4e00\u4e2afuse\u6587\u4ef6\u7cfb\u7edf\u5230/curvine-fuse\u76ee\u5f55\u4e0b\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u9a8c\u8bc1\u96c6\u7fa4\u72b6\u6001:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"./bin/curvine report\n\n\u8f93\u51fa\u5982\u4e0b\uff1a\n       active_master: localhost:8995\n       journal_nodes: 1,localhost:8996\n            capacity: 10.0 GB\n           available: 9.0 GB (90.23%)\n             fs_used: 1000.0 MB (9.77%)\n         non_fs_used: 30.4 GB\n     live_worker_num: 1\n     lost_worker_num: 0\n           inode_num: 0\n           block_num: 0\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u8bbf\u95eeMaster web ui\u754c\u9762\uff1a",(0,o.jsx)(e.code,{children:"http://your-hostname:9000"}),"\n\u8bbf\u95eeWorker web ui\u754c\u9762\uff1a",(0,o.jsx)(e.code,{children:"http://your-hostname:9001"})]}),"\n",(0,o.jsxs)(e.p,{children:["\u8bbf\u95eefuse\u672c\u5730\u6302\u8f7d\u70b9\uff1a",(0,o.jsx)(e.code,{children:"ls /curvine-fuse"})]}),"\n",(0,o.jsx)(e.h2,{id:"\u8bfb\u5199\u6570\u636e",children:"\u8bfb\u5199\u6570\u636e"}),"\n",(0,o.jsx)(e.p,{children:"curvine\u63d0\u4f9b\u4e86benchmark\u5de5\u5177\uff0c\u7528\u4e8e\u6d4b\u8bd5curvine\u7684\u8bfb\u5199\u6027\u80fd\uff1b\u5728\u5feb\u901f\u5f00\u59cb\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u52a9\u8fd9\u4e9b\u811a\u672c\u8fdb\u884c\u8bfb\u5199\u6570\u636e\u6d4b\u8bd5\u3002\nbenchmark\u5de5\u5177\u6709rust\u548cjava\u4e24\u79cd\u8bed\u8a00\u7684\u7248\u672c\uff0c\u5206\u522b\u4f4d\u4e8ebin\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"# rust\u7248\u672c\n\nbin/curvine-bench.sh fs.write # \u4f7f\u7528rust\u5ba2\u6237\u7aef\u5199\u6570\u636e\nbin/curvine-bench.sh fs.read  # \u4f7f\u7528rust\u5ba2\u6237\u7aef\u8bfb\u6570\u636e\n\nbin/curvine-bench.sh fuse.write # \u4f7f\u7528fuse\u5199\u6570\u636e\nbin/curvine-bench.sh fuse.read  # \u4f7f\u7528fuse\u8bfb\u6570\u636e\n\n\n# java \u7248\u672c\nbin/java-bench.sh fs.write # \u4f7f\u7528java\u5ba2\u6237\u7aef\u5199\u6570\u636e\nbin/java-bench.sh fs.read  # \u4f7f\u7528java\u5ba2\u6237\u7aef\u8bfb\u6570\u636e\n\nbin/java-bench.sh fuse.write # \u4f7f\u7528fuse\u5199\u6570\u636e\nbin/java-bench.sh fuse.read  # \u4f7f\u7528fuse\u8bfb\u6570\u636e\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u67e5\u770b\u6587\u4ef6\u7cfb\u7edf\u72b6\u6001\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"bin/curvine fs -ls /fs-bench\n\n# \u8f93\u51fa\u5982\u4e0b\uff1a\nFound 10 items\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/0\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/1\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/2\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/3\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/4\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/5\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/6\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/7\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/8\n-rwxrwxrwx   1 root  104857600 2024-12-26 11:31 /fs-bench/9\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u5728fs-bench\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u4e8610\u4e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5927\u5c0f\u4e3a100MB\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u4e5f\u53ef\u4ee5\u4f7f\u7528linux\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u67e5\u770b\u6587\u4ef6\u7cfb\u7edf\u72b6\u6001\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"ls -l /curvine-fuse/fs-bench\n# \u8f93\u51fa\u5982\u4e0b\uff1a\ntotal 1024000\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 0\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 1\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 2\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 3\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 4\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 5\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 6\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 7\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 8\n-rwxrwxrwx. 1 root root 104857600 Jun  5 17:58 9\n"})})]})}function x(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>t});var c=r(6540);const o={},i=c.createContext(o);function s(n){const e=c.useContext(i);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),c.createElement(i.Provider,{value:e},n.children)}}}]);