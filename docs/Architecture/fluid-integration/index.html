<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Architecture/fluid-integration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Fluid Integration | Curvine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://curvineio.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://curvineio.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://curvineio.github.io/docs/Architecture/fluid-integration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_cn"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fluid Integration | Curvine"><meta data-rh="true" name="description" content="This document describes how to integrate Curvine distributed file caching system into Kubernetes clusters using Fluid&#x27;s ThinRuntime functionality for cloud-native data orchestration and management."><meta data-rh="true" property="og:description" content="This document describes how to integrate Curvine distributed file caching system into Kubernetes clusters using Fluid&#x27;s ThinRuntime functionality for cloud-native data orchestration and management."><link data-rh="true" rel="icon" href="/img/curvine_logo.ico"><link data-rh="true" rel="canonical" href="https://curvineio.github.io/docs/Architecture/fluid-integration"><link data-rh="true" rel="alternate" href="https://curvineio.github.io/docs/Architecture/fluid-integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://curvineio.github.io/zh-cn/docs/Architecture/fluid-integration" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://curvineio.github.io/docs/Architecture/fluid-integration" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Architecture","item":"https://curvineio.github.io/docs/category/architecture"},{"@type":"ListItem","position":2,"name":"Fluid Integration","item":"https://curvineio.github.io/docs/Architecture/fluid-integration"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Curvine RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Curvine Atom Feed"><link rel="stylesheet" href="/assets/css/styles.b44d61cb.css">
<script src="/assets/js/runtime~main.52c72837.js" defer="defer"></script>
<script src="/assets/js/main.ed94e41a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/curvine_logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/curvine_logo.png" alt="Curvine" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/curvine_logo.png" alt="Curvine" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Curvine</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Overview/instroduction">Documents</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/community">Community</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Architecture/fluid-integration">Latest ðŸš§</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/Architecture/fluid-integration" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-cn/docs/Architecture/fluid-integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">ç®€ä½“ä¸­æ–‡</a></li></ul></div><a href="https://github.com/curvineio/curvine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Overview/instroduction">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Deploy/quick-start">Deploy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/user-manuals">User Manuals</a><button aria-label="Expand sidebar category &#x27;User Manuals&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/benchmark">Benchmark</a><button aria-label="Expand sidebar category &#x27;Benchmark&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/architecture">Architecture</a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Architecture/instrodction">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Architecture/opendal-integration">OpenDAL Ecosystem Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Architecture/fluid-integration">Fluid Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Architecture/orpc">Orpc</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/contributor-guide">Contributor Guide</a><button aria-label="Expand sidebar category &#x27;Contributor Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/architecture"><span>Architecture</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Fluid Integration</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Curvine and Fluid Integration</h1></header>
<p>This document describes how to integrate Curvine distributed file caching system into Kubernetes clusters using Fluid&#x27;s ThinRuntime functionality for cloud-native data orchestration and management.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-fluid">What is Fluid<a href="#what-is-fluid" class="hash-link" aria-label="Direct link to What is Fluid" title="Direct link to What is Fluid">â€‹</a></h3>
<p><a href="https://github.com/fluid-cloudnative/fluid/tree/master" target="_blank" rel="noopener noreferrer">Fluid</a> is an open-source cloud-native data orchestration and management system that focuses on solving data access problems for data-intensive applications in big data and AI scenarios. It provides a unified data access interface and supports multiple data caching engines.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-thinruntime">What is ThinRuntime<a href="#what-is-thinruntime" class="hash-link" aria-label="Direct link to What is ThinRuntime" title="Direct link to What is ThinRuntime">â€‹</a></h3>
<p>ThinRuntime is a lightweight runtime provided by Fluid that allows users to integrate any POSIX-compatible file system into the Fluid ecosystem through the FUSE interface. Compared to traditional AlluxioRuntime or JuiceFSRuntime, ThinRuntime has the following characteristics:</p>
<ul>
<li><strong>Lightweight</strong>: No need to deploy additional caching layers or metadata services</li>
<li><strong>Flexibility</strong>: Supports any FUSE-compatible file system</li>
<li><strong>Simplicity</strong>: Simple configuration and easy maintenance</li>
<li><strong>Efficiency</strong>: Direct access to underlying storage, reducing data transfer overhead</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="integration-architecture">Integration Architecture<a href="#integration-architecture" class="hash-link" aria-label="Direct link to Integration Architecture" title="Direct link to Integration Architecture">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="Curvine Fluid Integration Architecture" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDgwMCA2MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBCYWNrZ3JvdW5kIC0tPgogIDxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNjAwIiBmaWxsPSIjZjhmOWZhIiBzdHJva2U9Im5vbmUiLz4KICAKICA8IS0tIEt1YmVybmV0ZXMgQ2x1c3RlciBDb250YWluZXIgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjIwIiB3aWR0aD0iNzYwIiBoZWlnaHQ9IjQ1MCIgcng9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMyYzNlNTAiIHN0cm9rZS13aWR0aD0iMiIvPgogIDx0ZXh0IHg9IjQwIiB5PSI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzJjM2U1MCI+S3ViZXJuZXRlcyDpm4bnvqQ8L3RleHQ+CiAgCiAgPCEtLSBBcHBsaWNhdGlvbiBQb2QgLS0+CiAgPHJlY3QgeD0iNTAiIHk9IjgwIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE4MCIgcng9IjgiIGZpbGw9IiNlM2YyZmQiIHN0cm9rZT0iIzE5NzZkMiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPHRleHQgeD0iMTMwIiB5PSIxMDUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiMxOTc2ZDIiIHRleHQtYW5jaG9yPSJtaWRkbGUiPuW6lOeUqOeoi+W6jyBQb2Q8L3RleHQ+CiAgCiAgPCEtLSBBcHBsaWNhdGlvbiAtLT4KICA8cmVjdCB4PSI3MCIgeT0iMTIwIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0iI2JiZGVmYiIgc3Ryb2tlPSIjMTk3NmQyIiBzdHJva2Utd2lkdGg9IjEiLz4KICA8dGV4dCB4PSIxNTAiIHk9IjE0MiIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMTk3NmQyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7lupTnlKjnqIvluo88L3RleHQ+CiAgCiAgPCEtLSBQVkMgLS0+CiAgPHJlY3QgeD0iNzAiIHk9IjE4MCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSI0MCIgcng9IjUiIGZpbGw9IiNiYmRlZmIiIHN0cm9rZT0iIzE5NzZkMiIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgPHRleHQgeD0iMTUwIiB5PSIyMDIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzE5NzZkMiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+UFZDIChjdXJ2aW5lLWRhdGEpPC90ZXh0PgogIAogIDwhLS0gRmx1aWQgU3lzdGVtIC0tPgogIDxyZWN0IHg9IjMwMCIgeT0iODAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjQwIiByeD0iOCIgZmlsbD0iI2U4ZjVlOCIgc3Ryb2tlPSIjMzg4ZTNjIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8dGV4dCB4PSI0MDAiIHk9IjEwNSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzM4OGUzYyIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Rmx1aWQg57O757ufPC90ZXh0PgogIAogIDwhLS0gRGF0YXNldCAtLT4KICA8cmVjdCB4PSIzMjAiIHk9IjEyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSI0MCIgcng9IjUiIGZpbGw9IiNjOGU2YzkiIHN0cm9rZT0iIzM4OGUzYyIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgPHRleHQgeD0iNDAwIiB5PSIxMzUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZmlsbD0iIzM4OGUzYyIgdGV4dC1hbmNob3I9Im1pZGRsZSI+RGF0YXNldDwvdGV4dD4KICA8dGV4dCB4PSI0MDAiIHk9IjE1MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzg4ZTNjIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4o5pWw5o2u5rqQ5a6a5LmJKTwvdGV4dD4KICAKICA8IS0tIFRoaW5SdW50aW1lIC0tPgogIDxyZWN0IHg9IjMyMCIgeT0iMTgwIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0iI2M4ZTZjOSIgc3Ryb2tlPSIjMzg4ZTNjIiBzdHJva2Utd2lkdGg9IjEiLz4KICA8dGV4dCB4PSI0MDAiIHk9IjE5NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzg4ZTNjIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5UaGluUnVudGltZTwvdGV4dD4KICA8dGV4dCB4PSI0MDAiIHk9IjIxMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzg4ZTNjIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4o6L+Q6KGM5pe26YWN572uKTwvdGV4dD4KICAKICA8IS0tIFRoaW5SdW50aW1lIFByb2ZpbGUgLS0+CiAgPHJlY3QgeD0iMzIwIiB5PSIyNDAiIHdpZHRoPSIxNjAiIGhlaWdodD0iNDAiIHJ4PSI1IiBmaWxsPSIjYzhlNmM5IiBzdHJva2U9IiMzODhlM2MiIHN0cm9rZS13aWR0aD0iMSIvPgogIDx0ZXh0IHg9IjQwMCIgeT0iMjU1IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZpbGw9IiMzODhlM2MiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlRoaW5SdW50aW1lIFByb2ZpbGU8L3RleHQ+CiAgPHRleHQgeD0iNDAwIiB5PSIyNzAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZmlsbD0iIzM4OGUzYyIgdGV4dC1hbmNob3I9Im1pZGRsZSI+KOmVnOWDj+mFjee9rik8L3RleHQ+CiAgCiAgPCEtLSBGVVNFIFBvZCAtLT4KICA8cmVjdCB4PSI1MCIgeT0iMzUwIiB3aWR0aD0iNDUwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2ZmZjNlMCIgc3Ryb2tlPSIjZjU3YzAwIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8dGV4dCB4PSIyNzUiIHk9IjM3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2Y1N2MwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+RlVTRSBQb2Q8L3RleHQ+CiAgCiAgPCEtLSBDdXJ2aW5lIEZVU0UgQ2xpZW50IC0tPgogIDxyZWN0IHg9IjgwIiB5PSIzOTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjZmZlMGIyIiBzdHJva2U9IiNmNTdjMDAiIHN0cm9rZS13aWR0aD0iMSIvPgogIDx0ZXh0IHg9IjE1MCIgeT0iNDA4IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZpbGw9IiNmNTdjMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPmN1cnZpbmUtZnVzZSDlrqLmiLfnq688L3RleHQ+CiAgCiAgPCEtLSBDb25maWcgUGFyc2VyIC0tPgogIDxyZWN0IHg9IjI4MCIgeT0iMzkwIiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjMwIiByeD0iNSIgZmlsbD0iI2ZmZTBiMiIgc3Ryb2tlPSIjZjU3YzAwIiBzdHJva2Utd2lkdGg9IjEiLz4KICA8dGV4dCB4PSIzNTAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjZjU3YzAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7phY3nva7op6PmnpDlmag8L3RleHQ+CiAgCiAgPCEtLSBFeHRlcm5hbCBDdXJ2aW5lIENsdXN0ZXIgLS0+CiAgPHJlY3QgeD0iMjAiIHk9IjUwMCIgd2lkdGg9Ijc2MCIgaGVpZ2h0PSI4MCIgcng9IjEwIiBmaWxsPSIjZmNlNGVjIiBzdHJva2U9IiNjMjE4NWIiIHN0cm9rZS13aWR0aD0iMiIvPgogIDx0ZXh0IHg9IjQwMCIgeT0iNTI1IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjYzIxODViIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7lpJbpg6ggQ3VydmluZSDpm4bnvqQ8L3RleHQ+CiAgCiAgPCEtLSBNYXN0ZXIgTm9kZSAtLT4KICA8cmVjdCB4PSI4MCIgeT0iNTQwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjMwIiByeD0iNSIgZmlsbD0iI2Y4YmJkOSIgc3Ryb2tlPSIjYzIxODViIiBzdHJva2Utd2lkdGg9IjEiLz4KICA8dGV4dCB4PSIxNDAiIHk9IjU1OCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjYzIxODViIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5NYXN0ZXIg6IqC54K5PC90ZXh0PgogIAogIDwhLS0gV29ya2VyIE5vZGUgMSAtLT4KICA8cmVjdCB4PSIyNDAiIHk9IjU0MCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSIzMCIgcng9IjUiIGZpbGw9IiNmOGJiZDkiIHN0cm9rZT0iI2MyMTg1YiIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgPHRleHQgeD0iMzAwIiB5PSI1NTgiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZmlsbD0iI2MyMTg1YiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+V29ya2VyIOiKgueCuSAxPC90ZXh0PgogIAogIDwhLS0gV29ya2VyIE5vZGUgMiAtLT4KICA8cmVjdCB4PSI0MDAiIHk9IjU0MCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSIzMCIgcng9IjUiIGZpbGw9IiNmOGJiZDkiIHN0cm9rZT0iI2MyMTg1YiIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgPHRleHQgeD0iNDYwIiB5PSI1NTgiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZmlsbD0iI2MyMTg1YiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+V29ya2VyIOiKgueCuSAyPC90ZXh0PgogIAogIDwhLS0gQXJyb3dzIC0tPgogIDwhLS0gQXBwIHRvIFBWQyAtLT4KICA8cGF0aCBkPSJNIDE1MCAxNjAgTCAxNTAgMTgwIiBzdHJva2U9IiMxOTc2ZDIiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2JsdWUpIi8+CiAgCiAgPCEtLSBQVkMgdG8gRlVTRSBQb2QgLS0+CiAgPHBhdGggZD0iTSAxNTAgMjIwIEwgMTUwIDM1MCIgc3Ryb2tlPSIjMTk3NmQyIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3dibHVlKSIvPgogIAogIDwhLS0gRmx1aWQgU3lzdGVtIGludGVybmFsIGNvbm5lY3Rpb25zIC0tPgogIDxwYXRoIGQ9Ik0gNDAwIDE2MCBMIDQwMCAxODAiIHN0cm9rZT0iIzM4OGUzYyIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93Z3JlZW4pIi8+CiAgPHBhdGggZD0iTSA0MDAgMjIwIEwgNDAwIDI0MCIgc3Ryb2tlPSIjMzg4ZTNjIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3dncmVlbikiLz4KICAKICA8IS0tIEZsdWlkIHRvIEZVU0UgUG9kIC0tPgogIDxwYXRoIGQ9Ik0gNDAwIDI4MCBMIDQwMCAzNTAiIHN0cm9rZT0iIzM4OGUzYyIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93Z3JlZW4pIi8+CiAgCiAgPCEtLSBGVVNFIGNvbXBvbmVudHMgY29ubmVjdGlvbiAtLT4KICA8cGF0aCBkPSJNIDIyMCA0MDUgTCAyODAgNDA1IiBzdHJva2U9IiNmNTdjMDAiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd29yYW5nZSkiLz4KICAKICA8IS0tIEZVU0UgUG9kIHRvIEN1cnZpbmUgQ2x1c3RlciAtLT4KICA8cGF0aCBkPSJNIDI3NSA0MzAgTCAyNzUgNTAwIiBzdHJva2U9IiNmNTdjMDAiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd29yYW5nZSkiLz4KICAKICA8IS0tIEN1cnZpbmUgY2x1c3RlciBpbnRlcm5hbCBjb25uZWN0aW9ucyAtLT4KICA8cGF0aCBkPSJNIDIwMCA1NTUgTCAyNDAgNTU1IiBzdHJva2U9IiNjMjE4NWIiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd3BpbmspIi8+CiAgPHBhdGggZD0iTSAzNjAgNTU1IEwgNDAwIDU1NSIgc3Ryb2tlPSIjYzIxODViIiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3dwaW5rKSIvPgogIAogIDwhLS0gQXJyb3cgbWFya2VycyAtLT4KICA8ZGVmcz4KICAgIDxtYXJrZXIgaWQ9ImFycm93Ymx1ZSIgbWFya2VyV2lkdGg9IjEwIiBtYXJrZXJIZWlnaHQ9IjEwIiByZWZYPSI5IiByZWZZPSIzIiBvcmllbnQ9ImF1dG8iIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCI+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMCwwIDAsNiA5LDMiIGZpbGw9IiMxOTc2ZDIiLz4KICAgIDwvbWFya2VyPgogICAgPG1hcmtlciBpZD0iYXJyb3dncmVlbiIgbWFya2VyV2lkdGg9IjEwIiBtYXJrZXJIZWlnaHQ9IjEwIiByZWZYPSI5IiByZWZZPSIzIiBvcmllbnQ9ImF1dG8iIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCI+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMCwwIDAsNiA5LDMiIGZpbGw9IiMzODhlM2MiLz4KICAgIDwvbWFya2VyPgogICAgPG1hcmtlciBpZD0iYXJyb3dvcmFuZ2UiIG1hcmtlcldpZHRoPSIxMCIgbWFya2VySGVpZ2h0PSIxMCIgcmVmWD0iOSIgcmVmWT0iMyIgb3JpZW50PSJhdXRvIiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiPgogICAgICA8cG9seWdvbiBwb2ludHM9IjAsMCAwLDYgOSwzIiBmaWxsPSIjZjU3YzAwIi8+CiAgICA8L21hcmtlcj4KICAgIDxtYXJrZXIgaWQ9ImFycm93cGluayIgbWFya2VyV2lkdGg9IjEwIiBtYXJrZXJIZWlnaHQ9IjEwIiByZWZYPSI5IiByZWZZPSIzIiBvcmllbnQ9ImF1dG8iIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCI+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMCwwIDAsNiA5LDMiIGZpbGw9IiNjMjE4NWIiLz4KICAgIDwvbWFya2VyPgogIDwvZGVmcz4KPC9zdmc+Cg==" width="800" height="600" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â€‹</a></h2>
<p>Before starting, ensure you have:</p>
<ol>
<li><strong>Kubernetes Cluster</strong>: Version &gt;= 1.18</li>
<li><strong>Fluid System</strong>: Fluid &gt;= 0.9.0 installed in the cluster</li>
<li><strong>Curvine Cluster</strong>: Deployed and running Curvine distributed file system</li>
<li><strong>Permissions</strong>: Ability to create ThinRuntimeProfile, Dataset, and ThinRuntime resources</li>
<li><strong>Docker Environment</strong>: For building Curvine ThinRuntime image</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-fluid">Install Fluid<a href="#install-fluid" class="hash-link" aria-label="Direct link to Install Fluid" title="Direct link to Install Fluid">â€‹</a></h3>
<p>If Fluid is not yet installed, follow these steps:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install Fluid using Helm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add fluid https://fluid-cloudnative.github.io/charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create ns fluid-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm install fluid fluid/fluid --namespace=fluid-system --insecure-skip-tls-verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Or install development version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm install fluid fluid/fluid --devel --version 1.0.7-alpha.5 -n fluid-system --insecure-skip-tls-verify</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-curvine-thinruntime-image">Building Curvine ThinRuntime Image<a href="#building-curvine-thinruntime-image" class="hash-link" aria-label="Direct link to Building Curvine ThinRuntime Image" title="Direct link to Building Curvine ThinRuntime Image">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-compile-curvine">Step 1: Compile Curvine<a href="#step-1-compile-curvine" class="hash-link" aria-label="Direct link to Step 1: Compile Curvine" title="Direct link to Step 1: Compile Curvine">â€‹</a></h3>
<p>First, compile the entire Curvine project:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Execute in Curvine project root directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /path/to/curvine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make all</span><br></span></code></pre></div></div>
<p><strong>Compilation Notes</strong>:</p>
<ul>
<li><code>make all</code> compiles the entire Curvine project, including:<!-- -->
<ul>
<li>Master node program</li>
<li>Worker node program</li>
<li>FUSE client (<code>curvine-fuse</code>)</li>
<li>S3 gateway</li>
<li>CLI tools</li>
</ul>
</li>
<li>Build artifacts are generated in the <code>build/dist/</code> directory</li>
<li>Ensure <code>build/dist/lib/curvine-fuse</code> file exists, which is the core FUSE client program</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-build-docker-image">Step 2: Build Docker Image<a href="#step-2-build-docker-image" class="hash-link" aria-label="Direct link to Step 2: Build Docker Image" title="Direct link to Step 2: Build Docker Image">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd curvine-docker/fluid/thin-runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build-image.sh</span><br></span></code></pre></div></div>
<p><strong>Build Process</strong>:</p>
<ol>
<li><strong>Environment Check</strong>: Script checks if necessary build files exist</li>
<li><strong>Create Build Context</strong>: Copy required files to temporary directory</li>
<li><strong>Docker Image Build</strong>: Uses Ubuntu 24.04 as base image</li>
<li><strong>Dependency Installation</strong>: Install FUSE3, Python3, and other runtime dependencies</li>
<li><strong>File Copy</strong>: Copy compiled Curvine programs to the image</li>
<li><strong>Permission Setup</strong>: Set executable permissions and environment variables</li>
</ol>
<p>After completion, the image <code>fluid-cloudnative/curvine-thinruntime:v1.0.0</code> is generated.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-load-image-to-cluster">Step 3: Load Image to Cluster<a href="#step-3-load-image-to-cluster" class="hash-link" aria-label="Direct link to Step 3: Load Image to Cluster" title="Direct link to Step 3: Load Image to Cluster">â€‹</a></h3>
<p>For minikube test environment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Remove old image (if exists)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minikube image rm docker.io/fluid-cloudnative/curvine-thinruntime:v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Load new image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minikube image load fluid-cloudnative/curvine-thinruntime:v1.0.0</span><br></span></code></pre></div></div>
<p>For production environment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Push to image registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag fluid-cloudnative/curvine-thinruntime:v1.0.0 your-registry.com/curvine-thinruntime:v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push your-registry.com/curvine-thinruntime:v1.0.0</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-and-configuration">Deployment and Configuration<a href="#deployment-and-configuration" class="hash-link" aria-label="Direct link to Deployment and Configuration" title="Direct link to Deployment and Configuration">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-thinruntimeprofile">Step 1: Create ThinRuntimeProfile<a href="#step-1-create-thinruntimeprofile" class="hash-link" aria-label="Direct link to Step 1: Create ThinRuntimeProfile" title="Direct link to Step 1: Create ThinRuntimeProfile">â€‹</a></h3>
<p>ThinRuntimeProfile defines the runtime configuration for Curvine FUSE client:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ThinRuntimeProfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fileSystemType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fuse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fuse</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fluid</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloudnative/curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">thinruntime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">imageTag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">imagePullPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IfNotPresent</span><br></span></code></pre></div></div>
<p>Apply configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f curvine-profile.yaml</span><br></span></code></pre></div></div>
<p><strong>Parameter Description</strong>:</p>
<ul>
<li><code>fileSystemType: fuse</code>: Specifies using FUSE type file system</li>
<li><code>image</code>: Specifies the FUSE client Docker image</li>
<li><code>imageTag</code>: Image version tag</li>
<li><code>imagePullPolicy: IfNotPresent</code>: Prefer local images</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-dataset">Step 2: Create Dataset<a href="#step-2-create-dataset" class="hash-link" aria-label="Direct link to Step 2: Create Dataset" title="Direct link to Step 2: Create Dataset">â€‹</a></h3>
<p>Dataset defines the location and access method of the data source:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">///data  </span><span class="token comment" style="color:#999988;font-style:italic"># Curvine file system path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">master-endpoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.10.9:8995&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Curvine Master address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadOnlyMany  </span><span class="token comment" style="color:#999988;font-style:italic"># Access mode</span><br></span></code></pre></div></div>
<p>Apply configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f curvine-dataset.yaml</span><br></span></code></pre></div></div>
<p><strong>Parameter Description</strong>:</p>
<ul>
<li><code>mountPoint: curvine:///data</code>: Specifies the Curvine file system path to access</li>
<li><code>master-endpoints</code>: Curvine Master node RPC service address and port</li>
<li><code>accessModes: [ReadOnlyMany]</code>: Supports multiple Pods with read-only access</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-create-thinruntime">Step 3: Create ThinRuntime<a href="#step-3-create-thinruntime" class="hash-link" aria-label="Direct link to Step 3: Create ThinRuntime" title="Direct link to Step 3: Create ThinRuntime">â€‹</a></h3>
<p>ThinRuntime connects Dataset and ThinRuntimeProfile:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ThinRuntime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dataset </span><span class="token comment" style="color:#999988;font-style:italic"># Must match Dataset name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">profileName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">profile</span><br></span></code></pre></div></div>
<p>Apply configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f curvine-thinruntime.yaml</span><br></span></code></pre></div></div>
<p><strong>Parameter Description</strong>:</p>
<ul>
<li><code>name: curvine-dataset</code>: Must exactly match the Dataset name</li>
<li><code>profileName: curvine-profile</code>: References the ThinRuntimeProfile created in step 1</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-verify-deployment">Step 4: Verify Deployment<a href="#step-4-verify-deployment" class="hash-link" aria-label="Direct link to Step 4: Verify Deployment" title="Direct link to Step 4: Verify Deployment">â€‹</a></h3>
<p>Check Dataset status:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get dataset curvine-dataset</span><br></span></code></pre></div></div>
<p>Expected output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NAME              UFS TOTAL SIZE   CACHED   CACHE CAPACITY   CACHED PERCENTAGE   PHASE   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curvine-dataset   [Calculating]    N/A      N/A              N/A                 Bound   1m</span><br></span></code></pre></div></div>
<p>Check ThinRuntime status:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get thinruntime curvine-dataset</span><br></span></code></pre></div></div>
<p>Check FUSE Pod status:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n fluid-system | grep curvine</span><br></span></code></pre></div></div>
<p><strong>Verification Notes</strong>:</p>
<ul>
<li><strong>Dataset Status</strong>: <code>PHASE</code> should show <code>Bound</code></li>
<li><strong>ThinRuntime Status</strong>: Should show <code>Ready</code></li>
<li><strong>FUSE Pod Status</strong>: Should have a <code>curvine-dataset-fuse-xxx</code> Pod in <code>Running</code> state</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-examples">Usage Examples<a href="#usage-examples" class="hash-link" aria-label="Direct link to Usage Examples" title="Direct link to Usage Examples">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-test-application">Create Test Application<a href="#create-test-application" class="hash-link" aria-label="Direct link to Create Test Application" title="Direct link to Create Test Application">â€‹</a></h3>
<p>Create a Pod to access the Curvine file system:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">curvine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;bash&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ls </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lh /data </span><span class="token important">&amp;&amp;</span><span class="token plain"> cat /data/testfile </span><span class="token important">&amp;&amp;</span><span class="token plain"> sleep 3600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">vol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">vol</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">persistentVolumeClaim</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">claimName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dataset</span><br></span></code></pre></div></div>
<p>Apply and test:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f test-pod.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs test-curvine</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-access-verification">Data Access Verification<a href="#data-access-verification" class="hash-link" aria-label="Direct link to Data Access Verification" title="Direct link to Data Access Verification">â€‹</a></h3>
<p>Enter Pod to verify file system access:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -it test-curvine -- bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls -la /data/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df -h /data/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-principles">Technical Principles<a href="#technical-principles" class="hash-link" aria-label="Direct link to Technical Principles" title="Direct link to Technical Principles">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-parsing-flow">Configuration Parsing Flow<a href="#configuration-parsing-flow" class="hash-link" aria-label="Direct link to Configuration Parsing Flow" title="Direct link to Configuration Parsing Flow">â€‹</a></h3>
<p>The Curvine ThinRuntime image includes a configuration parser (<code>fluid-config-parse.py</code>) with the following workflow:</p>
<p><img decoding="async" loading="lazy" alt="Curvine Config Parse Flow" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDYwMCA1MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBCYWNrZ3JvdW5kIC0tPgogIDxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNTAwIiBmaWxsPSIjZjhmOWZhIiBzdHJva2U9Im5vbmUiLz4KICAKICA8IS0tIEZsb3cgY29tcG9uZW50cyAtLT4KICA8IS0tIEZsdWlkIENvbnRyb2xsZXIgLS0+CiAgPHJlY3QgeD0iNTAiIHk9IjMwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iI2UzZjJmZCIgc3Ryb2tlPSIjMTk3NmQyIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8dGV4dCB4PSIxMTAiIHk9IjUyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjMTk3NmQyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5GbHVpZCBDb250cm9sbGVyPC90ZXh0PgogIAogIDwhLS0gRlVTRSBQb2QgLS0+CiAgPHJlY3QgeD0iMjQwIiB5PSIzMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSI0MCIgcng9IjgiIGZpbGw9IiNlOGY1ZTgiIHN0cm9rZT0iIzM4OGUzYyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPHRleHQgeD0iMjkwIiB5PSI1MiIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzM4OGUzYyIgdGV4dC1hbmNob3I9Im1pZGRsZSI+RlVTRSBQb2Q8L3RleHQ+CiAgCiAgPCEtLSBDb25maWcgUGFyc2VyIC0tPgogIDxyZWN0IHg9IjQxMCIgeT0iMzAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiIHJ4PSI4IiBmaWxsPSIjZmZmM2UwIiBzdHJva2U9IiNmNTdjMDAiIHN0cm9rZS13aWR0aD0iMiIvPgogIDx0ZXh0IHg9IjQ3MCIgeT0iNTIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmNTdjMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkNvbmZpZyBQYXJzZXI8L3RleHQ+CiAgCiAgPCEtLSBjdXJ2aW5lLWZ1c2UgLS0+CiAgPHJlY3QgeD0iNDEwIiB5PSIxMDAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiIHJ4PSI4IiBmaWxsPSIjZmNlNGVjIiBzdHJva2U9IiNjMjE4NWIiIHN0cm9rZS13aWR0aD0iMiIvPgogIDx0ZXh0IHg9IjQ3MCIgeT0iMTIyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjYzIxODViIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5jdXJ2aW5lLWZ1c2U8L3RleHQ+CiAgCiAgPCEtLSBQcm9jZXNzIHN0ZXBzIC0tPgogIDxnIGlkPSJzdGVwcyI+CiAgICA8IS0tIFN0ZXAgMSAtLT4KICAgIDxyZWN0IHg9IjUwIiB5PSIxODAiIHdpZHRoPSI1MDAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiM2NjYiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHRleHQgeD0iNzAiIHk9IjIwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzMzIj4xLiDliJvlu7ogUG9kIOW5tuaMgui9vemFjee9rjwvdGV4dD4KICAgIAogICAgPCEtLSBTdGVwIDIgLS0+CiAgICA8cmVjdCB4PSI1MCIgeT0iMjIwIiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjMwIiByeD0iNSIgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjNjY2IiBzdHJva2Utd2lkdGg9IjEiLz4KICAgIDx0ZXh0IHg9IjcwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZmlsbD0iIzMzMyI+Mi4g5ZCv5Yqo6YWN572u6Kej5p6Q5ZmoPC90ZXh0PgogICAgCiAgICA8IS0tIFN0ZXAgMyAtLT4KICAgIDxyZWN0IHg9IjUwIiB5PSIyNjAiIHdpZHRoPSI1MDAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiM2NjYiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHRleHQgeD0iNzAiIHk9IjI4MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzMzIj4zLiDor7vlj5YgL2V0Yy9mbHVpZC9jb25maWcvY29uZmlnLmpzb248L3RleHQ+CiAgICAKICAgIDwhLS0gU3RlcCA0IC0tPgogICAgPHJlY3QgeD0iNTAiIHk9IjMwMCIgd2lkdGg9IjUwMCIgaGVpZ2h0PSIzMCIgcng9IjUiIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzY2NiIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICA8dGV4dCB4PSI3MCIgeT0iMzIwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZpbGw9IiMzMzMiPjQuIOino+aekCBtYXN0ZXItZW5kcG9pbnRzIOetieWPguaVsDwvdGV4dD4KICAgIAogICAgPCEtLSBTdGVwIDUgLS0+CiAgICA8cmVjdCB4PSI1MCIgeT0iMzQwIiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjMwIiByeD0iNSIgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjNjY2IiBzdHJva2Utd2lkdGg9IjEiLz4KICAgIDx0ZXh0IHg9IjcwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZmlsbD0iIzMzMyI+NS4g55Sf5oiQIGN1cnZpbmUtY2x1c3Rlci50b21sPC90ZXh0PgogICAgCiAgICA8IS0tIFN0ZXAgNiAtLT4KICAgIDxyZWN0IHg9IjUwIiB5PSIzODAiIHdpZHRoPSI1MDAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiM2NjYiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHRleHQgeD0iNzAiIHk9IjQwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzMzIj42LiDnlJ/miJAgbW91bnQtY3VydmluZS5zaCDohJrmnKw8L3RleHQ+CiAgICAKICAgIDwhLS0gU3RlcCA3IC0tPgogICAgPHJlY3QgeD0iNTAiIHk9IjQyMCIgd2lkdGg9IjUwMCIgaGVpZ2h0PSIzMCIgcng9IjUiIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzY2NiIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICA8dGV4dCB4PSI3MCIgeT0iNDQwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZpbGw9IiMzMzMiPjcuIOWQr+WKqCBjdXJ2aW5lLWZ1c2Ug5a6i5oi356uvPC90ZXh0PgogICAgCiAgICA8IS0tIFN0ZXAgOCAtLT4KICAgIDxyZWN0IHg9IjUwIiB5PSI0NjAiIHdpZHRoPSI1MDAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiM2NjYiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgPHRleHQgeD0iNzAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmaWxsPSIjMzMzIj44LiDmjILovb3mlofku7bns7vnu5/liLDnm67moIfot6/lvoQ8L3RleHQ+CiAgPC9nPgogIAogIDwhLS0gRmxvdyBhcnJvd3MgLS0+CiAgPHBhdGggZD0iTSAxNzAgNTAgTCAyNDAgNTAiIHN0cm9rZT0iIzJjM2U1MCIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93KSIvPgogIDxwYXRoIGQ9Ik0gMzQwIDUwIEwgNDEwIDUwIiBzdHJva2U9IiMyYzNlNTAiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvdykiLz4KICA8cGF0aCBkPSJNIDQ3MCA3MCBMIDQ3MCAxMDAiIHN0cm9rZT0iIzJjM2U1MCIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93KSIvPgogIAogIDwhLS0gVmVydGljYWwgZmxvdyBhcnJvdyAtLT4KICA8cGF0aCBkPSJNIDMwIDUwIEwgMzAgMTgwIiBzdHJva2U9IiMyYzNlNTAiIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvdykiLz4KICAKICA8IS0tIEFycm93IG1hcmtlciAtLT4KICA8ZGVmcz4KICAgIDxtYXJrZXIgaWQ9ImFycm93IiBtYXJrZXJXaWR0aD0iMTAiIG1hcmtlckhlaWdodD0iMTAiIHJlZlg9IjkiIHJlZlk9IjMiIG9yaWVudD0iYXV0byIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIj4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIwLDAgMCw2IDksMyIgZmlsbD0iIzJjM2U1MCIvPgogICAgPC9tYXJrZXI+CiAgPC9kZWZzPgo8L3N2Zz4K" width="600" height="500" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-file-conversion">Configuration File Conversion<a href="#configuration-file-conversion" class="hash-link" aria-label="Direct link to Configuration File Conversion" title="Direct link to Configuration File Conversion">â€‹</a></h3>
<p>The configuration parser converts Fluid&#x27;s JSON configuration to Curvine&#x27;s TOML configuration:</p>
<p><strong>Input (Fluid JSON Configuration)</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mounts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mountPoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curvine:///data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;options&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;master-endpoints&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.10.9:8995&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;targetPath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/runtime-mnt/thin/default/curvine-dataset/thin-fuse&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Output (Curvine TOML Configuration)</strong>:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">format_master = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">format_worker = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">testing = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cluster_id = &quot;curvine&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[master]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hostname = &quot;192.168.10.9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rpc_port = 8995</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">web_port = 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[client.master_addrs]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hostname = &quot;192.168.10.9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port = 8995</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[fuse]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io_threads = 32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker_threads = 56</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mnt_path = &quot;/runtime-mnt/thin/default/curvine-dataset/thin-fuse&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fs_path = &quot;/data&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fuse-client-startup">FUSE Client Startup<a href="#fuse-client-startup" class="hash-link" aria-label="Direct link to FUSE Client Startup" title="Direct link to FUSE Client Startup">â€‹</a></h3>
<p>The configuration parser also generates startup script <code>mount-curvine.sh</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set -ex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export CURVINE_HOME=&quot;/opt/curvine&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export CURVINE_CONF_FILE=&quot;/opt/curvine/conf/curvine-cluster.toml&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create necessary directories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p /runtime-mnt/thin/default/curvine-dataset/thin-fuse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p /tmp/curvine/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p /opt/curvine/logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Cleanup previous mounts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">umount -f /runtime-mnt/thin/default/curvine-dataset/thin-fuse 2&gt;/dev/null || true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start curvine-fuse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exec /opt/curvine/lib/curvine-fuse \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --mnt-path /runtime-mnt/thin/default/curvine-dataset/thin-fuse \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --mnt-number 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --conf $CURVINE_CONF_FILE</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">â€‹</a></h2>
<p>Through Fluid integration, Curvine can efficiently support various cloud-native application scenarios, fully leveraging the advantages of distributed caching:</p>
<table><thead><tr><th>Application Scenario</th><th>Access Mode</th><th>Curvine Advantages</th><th>Fluid Integration Value</th><th>Typical Applications</th></tr></thead><tbody><tr><td><strong>Big Data Processing</strong></td><td>ReadOnlyMany</td><td>Data locality caching<br>High throughput reads</td><td>Multi-Pod parallel access<br>Unified data source management</td><td>Spark, Flink batch jobs</td></tr><tr><td><strong>AI/ML Training</strong></td><td>ReadWriteMany</td><td>Hot data caching<br>Fast checkpoint saving</td><td>GPU node data locality<br>Training task elastic scaling</td><td>PyTorch, TensorFlow training</td></tr><tr><td><strong>Microservice Configuration</strong></td><td>ReadOnlyMany</td><td>Configuration file caching<br>Fast startup loading</td><td>Unified configuration distribution<br>Service rapid scaling</td><td>Config center, static resources</td></tr><tr><td><strong>Data Science Platform</strong></td><td>ReadWriteMany</td><td>Interactive data access<br>Experiment result sharing</td><td>Team collaboration environment<br>Resource on-demand allocation</td><td>JupyterHub, data analysis</td></tr><tr><td><strong>Content Distribution</strong></td><td>ReadOnlyMany</td><td>Edge cache acceleration<br>Multi-region sync</td><td>Content nearby distribution<br>Load balanced access</td><td>CDN, static websites</td></tr><tr><td><strong>Log Analysis</strong></td><td>ReadWriteMany</td><td>Streaming data writes<br>Historical data queries</td><td>Centralized log storage<br>Unified analysis tool access</td><td>ELK Stack, monitoring systems</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-advantages">Core Advantages<a href="#core-advantages" class="hash-link" aria-label="Direct link to Core Advantages" title="Direct link to Core Advantages">â€‹</a></h3>
<p><strong>Key capabilities provided by Curvine when combined with Fluid</strong>:</p>
<ol>
<li><strong>Data Locality</strong>: Through Curvine&#x27;s distributed caching, hot data is cached near compute nodes, reducing network I/O</li>
<li><strong>Elastic Scaling</strong>: Fluid&#x27;s Dataset abstraction combined with Curvine&#x27;s dynamic scaling supports elastic scaling of application workloads</li>
<li><strong>Unified Interface</strong>: Through POSIX-compatible file system interface, applications can enjoy cache acceleration without modification</li>
<li><strong>Multi-tenancy Support</strong>: Different Datasets can be configured with different Curvine clusters for resource isolation and management</li>
<li><strong>Cloud-Native Integration</strong>: Deep integration with Kubernetes ecosystem, supporting declarative configuration and automated operations</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-configuration">Advanced Configuration<a href="#advanced-configuration" class="hash-link" aria-label="Direct link to Advanced Configuration" title="Direct link to Advanced Configuration">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-cluster-support">Multi-Cluster Support<a href="#multi-cluster-support" class="hash-link" aria-label="Direct link to Multi-Cluster Support" title="Direct link to Multi-Cluster Support">â€‹</a></h3>
<p>Create different Datasets for different Curvine clusters:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Production environment cluster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">///prod</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">master-endpoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curvine-prod-master:8995&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteMany</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Test environment cluster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">///test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">master-endpoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curvine-test-master:8995&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteMany</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-tuning">Performance Tuning<a href="#performance-tuning" class="hash-link" aria-label="Direct link to Performance Tuning" title="Direct link to Performance Tuning">â€‹</a></h3>
<p>Configure FUSE performance parameters in ThinRuntimeProfile:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data.fluid.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ThinRuntimeProfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">profile</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">optimized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fileSystemType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fuse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fuse</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fluid</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cloudnative/curvine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">thinruntime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">imageTag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">imagePullPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IfNotPresent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CURVINE_IO_THREADS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;64&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CURVINE_WORKER_THREADS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;128&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1Gi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;500m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2Gi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1000m&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-environment-variables">Supported Environment Variables<a href="#supported-environment-variables" class="hash-link" aria-label="Direct link to Supported Environment Variables" title="Direct link to Supported Environment Variables">â€‹</a></h3>
<p>The configuration parser supports the following environment variables to customize FUSE client behavior:</p>
<table><thead><tr><th>Environment Variable</th><th>Description</th><th>Default Value</th><th>Example</th></tr></thead><tbody><tr><td><code>CURVINE_IO_THREADS</code></td><td>Number of IO threads, affects concurrent I/O performance</td><td>32</td><td>64</td></tr><tr><td><code>CURVINE_WORKER_THREADS</code></td><td>Number of worker threads, affects request processing capacity</td><td>56</td><td>128</td></tr><tr><td><code>CURVINE_MASTER_ENDPOINTS</code></td><td>Master node address</td><td>None</td><td>master:8995</td></tr><tr><td><code>CURVINE_MASTER_WEB_PORT</code></td><td>Master web port</td><td>8080</td><td>8080</td></tr></tbody></table>
<p>These environment variables can be passed to FUSE Pods through ThinRuntimeProfile&#x27;s <code>env</code> configuration, and the configuration parser will automatically read and apply them to curvine-fuse startup parameters.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-dataset-status-abnormal">1. Dataset Status Abnormal<a href="#1-dataset-status-abnormal" class="hash-link" aria-label="Direct link to 1. Dataset Status Abnormal" title="Direct link to 1. Dataset Status Abnormal">â€‹</a></h4>
<p><strong>Issue</strong>: Dataset remains in <code>NotBound</code> state for a long time</p>
<p><strong>Troubleshooting Steps</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check if ThinRuntimeProfile exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get thinruntimeprofile curvine-profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check ThinRuntime status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get thinruntime curvine-dataset -o yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View Fluid controller logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -n fluid-system -l app=dataset-controller</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-fuse-pod-startup-failure">2. FUSE Pod Startup Failure<a href="#2-fuse-pod-startup-failure" class="hash-link" aria-label="Direct link to 2. FUSE Pod Startup Failure" title="Direct link to 2. FUSE Pod Startup Failure">â€‹</a></h4>
<p><strong>Issue</strong>: FUSE Pod in <code>CrashLoopBackOff</code> state</p>
<p><strong>Troubleshooting Steps</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># View Pod logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -n fluid-system curvine-dataset-fuse-xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check if image exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pod -n fluid-system curvine-dataset-fuse-xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Enter Pod for debugging (if Pod is running)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -it -n fluid-system curvine-dataset-fuse-xxx -- bash</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-image-pull-failure">3. Image Pull Failure<a href="#3-image-pull-failure" class="hash-link" aria-label="Direct link to 3. Image Pull Failure" title="Direct link to 3. Image Pull Failure">â€‹</a></h4>
<p><strong>Issue</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Failed to pull image &quot;fluid-cloudnative/curvine-thinruntime:v1.0.0&quot;: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error response from daemon: pull access denied</span><br></span></code></pre></div></div>
<p><strong>Solution</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Ensure image is loaded to cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minikube image ls | grep curvine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Reload image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">minikube image load fluid-cloudnative/curvine-thinruntime:v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ensure imagePullPolicy is set correctly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get thinruntimeprofile curvine-profile -o yaml</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-curvine-connection-failure">4. Curvine Connection Failure<a href="#4-curvine-connection-failure" class="hash-link" aria-label="Direct link to 4. Curvine Connection Failure" title="Direct link to 4. Curvine Connection Failure">â€‹</a></h4>
<p><strong>Issue</strong>: FUSE client cannot connect to Curvine Master</p>
<p><strong>Troubleshooting Steps</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check network connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -it -n fluid-system curvine-dataset-fuse-xxx -- ping 192.168.10.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check port connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -it -n fluid-system curvine-dataset-fuse-xxx -- telnet 192.168.10.9 8995</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check generated configuration file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -it -n fluid-system curvine-dataset-fuse-xxx -- cat /opt/curvine/conf/curvine-cluster.toml</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-glibc-version-error">5. GLIBC Version Error<a href="#5-glibc-version-error" class="hash-link" aria-label="Direct link to 5. GLIBC Version Error" title="Direct link to 5. GLIBC Version Error">â€‹</a></h4>
<p><strong>Issue</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/opt/curvine/lib/curvine-fuse: /lib/x86_64-linux-gnu/libc.so.6: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version `GLIBC_2.39&#x27; not found</span><br></span></code></pre></div></div>
<p><strong>Solution</strong>: Ensure using correct base image</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM ubuntu:24.04  # Use newer version of Ubuntu</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debug-commands">Debug Commands<a href="#debug-commands" class="hash-link" aria-label="Direct link to Debug Commands" title="Direct link to Debug Commands">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># View all related resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get thinruntimeprofile,dataset,thinruntime,pvc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View Fluid system component status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n fluid-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View detailed events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get events --sort-by=&#x27;.lastTimestamp&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Clean up resources (for redeployment)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete dataset curvine-dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete thinruntime curvine-dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete thinruntimeprofile curvine-profile</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-environment-planning">1. Environment Planning<a href="#1-environment-planning" class="hash-link" aria-label="Direct link to 1. Environment Planning" title="Direct link to 1. Environment Planning">â€‹</a></h3>
<ul>
<li><strong>Development Environment</strong>: Use single-node Curvine cluster, simplify configuration</li>
<li><strong>Test Environment</strong>: Use multi-node cluster, verify high availability</li>
<li><strong>Production Environment</strong>: Use distributed deployment, configure monitoring and backup</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-resource-management">2. Resource Management<a href="#2-resource-management" class="hash-link" aria-label="Direct link to 2. Resource Management" title="Direct link to 2. Resource Management">â€‹</a></h3>
<ul>
<li>Create independent Namespaces for each environment</li>
<li>Use ResourceQuota to limit resource usage</li>
<li>Configure appropriate PodDisruptionBudget</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-security-configuration">3. Security Configuration<a href="#3-security-configuration" class="hash-link" aria-label="Direct link to 3. Security Configuration" title="Direct link to 3. Security Configuration">â€‹</a></h3>
<ul>
<li>Enable Curvine cluster authentication</li>
<li>Use Kubernetes Secret to manage sensitive information</li>
<li>Configure network policies to restrict access</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-image-management">4. Image Management<a href="#4-image-management" class="hash-link" aria-label="Direct link to 4. Image Management" title="Direct link to 4. Image Management">â€‹</a></h3>
<ul>
<li>Use version tags to manage images</li>
<li>Regularly update base images</li>
<li>Use private image registries in production environments</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-links">Related Links<a href="#related-links" class="hash-link" aria-label="Direct link to Related Links" title="Direct link to Related Links">â€‹</a></h2>
<ul>
<li><a href="https://github.com/fluid-cloudnative/fluid/blob/master/docs/zh/userguide/install.md" target="_blank" rel="noopener noreferrer">Fluid Official Documentation</a></li>
<li><a href="https://github.com/fluid-cloudnative/fluid/blob/master/docs/zh/samples/thinruntime.md" target="_blank" rel="noopener noreferrer">ThinRuntime Examples</a></li>
<li><a href="https://kubernetes.io/docs/concepts/storage/volumes/#fuse" target="_blank" rel="noopener noreferrer">Kubernetes FUSE Support</a></li>
<li><a href="https://www.kernel.org/doc/html/latest/filesystems/fuse.html" target="_blank" rel="noopener noreferrer">FUSE Documentation</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/curvineio/curvine-doc/edit/main/docs/5-Architecture/03-fluid-integration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Architecture/opendal-integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OpenDAL Ecosystem Integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Architecture/orpc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Orpc</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#what-is-fluid" class="table-of-contents__link toc-highlight">What is Fluid</a></li><li><a href="#what-is-thinruntime" class="table-of-contents__link toc-highlight">What is ThinRuntime</a></li><li><a href="#integration-architecture" class="table-of-contents__link toc-highlight">Integration Architecture</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#install-fluid" class="table-of-contents__link toc-highlight">Install Fluid</a></li></ul></li><li><a href="#building-curvine-thinruntime-image" class="table-of-contents__link toc-highlight">Building Curvine ThinRuntime Image</a><ul><li><a href="#step-1-compile-curvine" class="table-of-contents__link toc-highlight">Step 1: Compile Curvine</a></li><li><a href="#step-2-build-docker-image" class="table-of-contents__link toc-highlight">Step 2: Build Docker Image</a></li><li><a href="#step-3-load-image-to-cluster" class="table-of-contents__link toc-highlight">Step 3: Load Image to Cluster</a></li></ul></li><li><a href="#deployment-and-configuration" class="table-of-contents__link toc-highlight">Deployment and Configuration</a><ul><li><a href="#step-1-create-thinruntimeprofile" class="table-of-contents__link toc-highlight">Step 1: Create ThinRuntimeProfile</a></li><li><a href="#step-2-create-dataset" class="table-of-contents__link toc-highlight">Step 2: Create Dataset</a></li><li><a href="#step-3-create-thinruntime" class="table-of-contents__link toc-highlight">Step 3: Create ThinRuntime</a></li><li><a href="#step-4-verify-deployment" class="table-of-contents__link toc-highlight">Step 4: Verify Deployment</a></li></ul></li><li><a href="#usage-examples" class="table-of-contents__link toc-highlight">Usage Examples</a><ul><li><a href="#create-test-application" class="table-of-contents__link toc-highlight">Create Test Application</a></li><li><a href="#data-access-verification" class="table-of-contents__link toc-highlight">Data Access Verification</a></li></ul></li><li><a href="#technical-principles" class="table-of-contents__link toc-highlight">Technical Principles</a><ul><li><a href="#configuration-parsing-flow" class="table-of-contents__link toc-highlight">Configuration Parsing Flow</a></li><li><a href="#configuration-file-conversion" class="table-of-contents__link toc-highlight">Configuration File Conversion</a></li><li><a href="#fuse-client-startup" class="table-of-contents__link toc-highlight">FUSE Client Startup</a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a><ul><li><a href="#core-advantages" class="table-of-contents__link toc-highlight">Core Advantages</a></li></ul></li><li><a href="#advanced-configuration" class="table-of-contents__link toc-highlight">Advanced Configuration</a><ul><li><a href="#multi-cluster-support" class="table-of-contents__link toc-highlight">Multi-Cluster Support</a></li><li><a href="#performance-tuning" class="table-of-contents__link toc-highlight">Performance Tuning</a></li><li><a href="#supported-environment-variables" class="table-of-contents__link toc-highlight">Supported Environment Variables</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li><li><a href="#debug-commands" class="table-of-contents__link toc-highlight">Debug Commands</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-environment-planning" class="table-of-contents__link toc-highlight">1. Environment Planning</a></li><li><a href="#2-resource-management" class="table-of-contents__link toc-highlight">2. Resource Management</a></li><li><a href="#3-security-configuration" class="table-of-contents__link toc-highlight">3. Security Configuration</a></li><li><a href="#4-image-management" class="table-of-contents__link toc-highlight">4. Image Management</a></li></ul></li><li><a href="#related-links" class="table-of-contents__link toc-highlight">Related Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Deploy/quick-start">Quick Start</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/xfxMQKv3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/szbr8896" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/curvineio/curvine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Curvine Project Authors.<br>
                  Open source under Apache License 20. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>