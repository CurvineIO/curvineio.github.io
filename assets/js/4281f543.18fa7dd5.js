"use strict";(self.webpackChunkcurvine_doc=self.webpackChunkcurvine_doc||[]).push([[8144],{5187:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Deploy/Deploy-Curvine-Cluster/Preparation/Deployment-Architecture","title":"Deployment Architecture","description":"Component Roles","source":"@site/docs/2-Deploy/2-Deploy-Curvine-Cluster/1-Preparation/04-Deployment-Architecture.md","sourceDirName":"2-Deploy/2-Deploy-Curvine-Cluster/1-Preparation","slug":"/Deploy/Deploy-Curvine-Cluster/Preparation/Deployment-Architecture","permalink":"/docs/Deploy/Deploy-Curvine-Cluster/Preparation/Deployment-Architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/curvineio/curvine-doc/edit/main/docs/2-Deploy/2-Deploy-Curvine-Cluster/1-Preparation/04-Deployment-Architecture.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Environment Initialization","permalink":"/docs/Deploy/Deploy-Curvine-Cluster/Preparation/prerequisites"},"next":{"title":"Standalone Mode","permalink":"/docs/Deploy/Deploy-Curvine-Cluster/Standalone-Mode"}}');var s=n(4848),a=n(8453);const o={sidebar_position:4},i="Deployment Architecture",l={},c=[{value:"Component Roles",id:"component-roles",level:2},{value:"Relationship between curvine master, curvine worker, and curvine fuse",id:"relationship-between-curvine-master-curvine-worker-and-curvine-fuse",level:2},{value:"curvine fuse Use Cases",id:"curvine-fuse-use-cases",level:2}];function u(e){const r={h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"deployment-architecture",children:"Deployment Architecture"})}),"\n",(0,s.jsx)(r.mermaid,{value:"flowchart TD\n    subgraph Client_Applications\n        App1[Application 1<br/>FUSE mount]\n        App2[Application 2<br/>Hadoop HDFS API]\n        App3[Application 3<br/>S3 SDK]\n    end\n\n    subgraph Cluster_Layer\n        subgraph Master_Cluster\n            MasterLeader[Master Leader<br/>MasterHandler<br/>RocksDB]\n            MasterFollower1[Master Follower<br/>JournalLoader<br/>RocksDB]\n            MasterFollower2[Master Follower<br/>JournalLoader<br/>RocksDB]\n            MasterLeader -. Raft replication .-> MasterFollower1\n            MasterLeader -. Raft replication .-> MasterFollower2\n        end\n\n        subgraph Worker_Cluster\n            Worker1[Worker 1<br/>MEM: 64GB<br/>SSD: 1TB<br/>HDD: 10TB]\n            Worker2[Worker 2<br/>MEM: 64GB<br/>SSD: 1TB<br/>HDD: 10TB]\n            Worker3[Worker 3<br/>MEM: 64GB<br/>SSD: 1TB<br/>HDD: 10TB]\n            WorkerN[Worker N<br/>...]\n        end\n    end\n\n    subgraph Storage_Backend\n        S3Bucket[S3 Bucket]\n        HDFSCluster[HDFS Cluster]\n    end\n\n    App1 --\x3e MasterLeader\n    App1 --\x3e Worker1\n    App2 --\x3e MasterLeader\n    App2 --\x3e Worker2\n    App3 --\x3e MasterLeader\n    App3 --\x3e Worker3\n\n    MasterLeader --\x3e Worker1\n    MasterLeader --\x3e Worker2\n    MasterLeader --\x3e Worker3\n    MasterLeader --\x3e WorkerN\n\n    Worker1 -. Cache backend .-> S3Bucket\n    Worker2 -. Cache backend .-> HDFSCluster\n    Worker3 -. Cache backend .-> S3Bucket\n    WorkerN -. Cache backend .-> HDFSCluster"}),"\n",(0,s.jsx)(r.h2,{id:"component-roles",children:"Component Roles"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Master Node"}),": Responsible for metadata management, worker node coordination, and load balancing"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Maintains file system metadata (directory structure, file locations, etc.)"}),"\n",(0,s.jsx)(r.li,{children:"Manages worker node registration and health checks"}),"\n",(0,s.jsx)(r.li,{children:"Handles client metadata requests"}),"\n",(0,s.jsx)(r.li,{children:"Uses Raft consensus algorithm to ensure metadata consistency"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Worker Node"}),": Responsible for data storage and processing"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Stores actual data blocks (supports memory, SSD, HDD multi-level caching)"}),"\n",(0,s.jsx)(r.li,{children:"Handles data read/write requests"}),"\n",(0,s.jsx)(r.li,{children:"Periodically sends heartbeats to Master"}),"\n",(0,s.jsx)(r.li,{children:"Supports multi-replica data storage"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"FUSE Interface"}),": Provides POSIX file system interface, mounting distributed cache as local file system"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"S3 Gateway"}),": Provides S3-compatible object storage interface, supporting S3 API"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Client Library"}),": Provides multi-language APIs, communicating with Master and Worker nodes via RPC"]}),"\n",(0,s.jsx)(r.h2,{id:"relationship-between-curvine-master-curvine-worker-and-curvine-fuse",children:"Relationship between curvine master, curvine worker, and curvine fuse"}),"\n",(0,s.jsx)(r.mermaid,{value:"flowchart LR\n    subgraph Client_Layer\n        App[Applications<br/>ls,cat,cp]\n        fuse[curvine-fuse<br/>FUSE Daemon]\n        App -- POSIX System Calls --\x3e fuse\n    end\n\n    subgraph Sever_Side\n        master[curvine-master<br/>Metadata Management]\n        worker[curvine-worker<br/>Data Storage]\n        master -- Coordination --\x3e worker\n    end\n\n    fuse -- RPC Communication  --\x3e master\n    fuse -- Data Read/Write  --\x3e worker"}),"\n",(0,s.jsx)(r.h2,{id:"curvine-fuse-use-cases",children:"curvine fuse Use Cases"}),"\n",(0,s.jsx)(r.p,{children:"When you need to enable existing applications to access Curvine distributed cache without modification, FUSE can be used to mount Curvine as a local file system."}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Default mount points","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"/curvine-fuse"}),"\n",(0,s.jsx)(r.li,{children:"/var/lib/curvine-fuse (Kubernetes environment)"}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var t=n(6540);const s={},a=t.createContext(s);function o(e){const r=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);