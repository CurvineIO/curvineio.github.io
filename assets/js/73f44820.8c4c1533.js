"use strict";(self.webpackChunkcurvine_doc=self.webpackChunkcurvine_doc||[]).push([[6313],{3142:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/mount-arch-28e876de87faeb098511139b1b6f3793.png"},4565:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"User-Manuals/ufs","title":"Data Orchestration","description":"Curvine provides UFS (Unified File System) view to manage all supported distributed storage systems, including S3, HDFS, and others.","source":"@site/docs/3-User-Manuals/01-ufs.md","sourceDirName":"3-User-Manuals","slug":"/User-Manuals/ufs","permalink":"/docs/User-Manuals/ufs","draft":false,"unlisted":false,"editUrl":"https://github.com/curvineio/curvine-doc/edit/master/docs/3-User-Manuals/01-ufs.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"User Manuals","permalink":"/docs/category/user-manuals"},"next":{"title":"Cache","permalink":"/docs/User-Manuals/cache"}}');var t=s(4848),a=s(8453);const c={},r="Data Orchestration",o={},d=[{value:"Mounting",id:"mounting",level:2},{value:"Unified Access",id:"unified-access",level:2},{value:"Disabling Unified Access",id:"disabling-unified-access",level:2}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"data-orchestration",children:"Data Orchestration"})}),"\n",(0,t.jsx)(n.p,{children:"Curvine provides UFS (Unified File System) view to manage all supported distributed storage systems, including S3, HDFS, and others."}),"\n",(0,t.jsx)(n.h2,{id:"mounting",children:"Mounting"}),"\n",(0,t.jsx)(n.p,{children:"Curvine supports connecting multiple UFS sources by mounting them to different Curvine paths. Curvine does not provide default UFS configuration, which means if you want to load data from UFS, you must first mount the UFS source."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"mount-arch",src:s(3142).A+"",width:"2114",height:"876"})}),"\n",(0,t.jsx)(n.p,{children:"Curvine persists the mount table in metadata, so there is no need to remount when Curvine restarts. However, some rules must be followed."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Mounting to the root path is not allowed."}),"\n",(0,t.jsx)(n.li,{children:"Mounting other UFS under a mounted path is not allowed."}),"\n",(0,t.jsx)(n.li,{children:"The same mount path cannot be mounted to different UFS."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Mount:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bin/cv mount ufs_path curvine_path [configs]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ufs_path: UFS path, e.g., s3://bucket/path."}),"\n",(0,t.jsx)(n.li,{children:"curvine_path: Curvine path, e.g., /ufs/path."}),"\n",(0,t.jsx)(n.li,{children:"configs: Optional parameters, e.g., access_key_id, secret_access_key, region, endpoint, etc."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"bin/cv mount s3://ai/xuen-test /s3 \\\n-c s3.endpoint_url=http://hostname.com \\\n-c s3.region_name=cn \\\n-c s3.credentials.access=access_key \\\n-c s3.credentials.secret=secret_key \\\n-c s3.path_style=true\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"You can use command line, API to access ufs directories and files after UFS is mounted, but ufs data will not be automatically synchronized to curvine unless you load specific paths."})}),"\n",(0,t.jsx)(n.h2,{id:"unified-access",children:"Unified Access"}),"\n",(0,t.jsx)(n.p,{children:"After UFS is mounted, Curvine provides a unified file system view, and you can access the UFS file system just like accessing the Curvine file system;\nClients, command line tools, fuse, etc. can all access the UFS file system through a unified path."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Curvine does not cache UFS metadata, so there is no data consistency issue when accessing. Accessing UFS through Curvine is no different from accessing UFS directly."})}),"\n",(0,t.jsx)(n.h2,{id:"disabling-unified-access",children:"Disabling Unified Access"}),"\n",(0,t.jsx)(n.p,{children:"If you don't want to use unified access, you can add or modify the following configuration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"[client]\nenable_unified_fs = false\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var i=s(6540);const t={},a=i.createContext(t);function c(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);