"use strict";(self.webpackChunkcurvine_doc=self.webpackChunkcurvine_doc||[]).push([[1055],{7186:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Benchmark/fio","title":"FIO Performance Testing","description":"This chapter introduces using FIO to test Curvine\'s performance.","source":"@site/docs/4-Benchmark/03-fio.md","sourceDirName":"4-Benchmark","slug":"/Benchmark/fio","permalink":"/docs/Benchmark/fio","draft":false,"unlisted":false,"editUrl":"https://github.com/curvineio/curvine-doc/edit/main/docs/4-Benchmark/03-fio.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Concurrent Performance Testing","permalink":"/docs/Benchmark/concurrent"},"next":{"title":"Architecture","permalink":"/docs/category/architecture"}}');var s=r(4848),i=r(8453);const d={},c="FIO Performance Testing",h={},l=[{value:"Test Environment",id:"test-environment",level:2},{value:"Test Tools",id:"test-tools",level:2},{value:"Test Results",id:"test-results",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"fio-performance-testing",children:"FIO Performance Testing"})}),"\n",(0,s.jsx)(n.p,{children:"This chapter introduces using FIO to test Curvine's performance."}),"\n",(0,s.jsx)(n.h2,{id:"test-environment",children:"Test Environment"}),"\n",(0,s.jsx)(n.p,{children:"The test machine configuration is as follows:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Worker machine type: i3en.24xlarge, Operating system: RedHat 9"}),"\n",(0,s.jsx)(n.li,{children:"Client machine type: c5n.18xlarge, Operating system: RedHat 9"}),"\n",(0,s.jsx)(n.li,{children:"FIO version: 3.5"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"test-tools",children:"Test Tools"}),"\n",(0,s.jsx)(n.p,{children:"Using FIO to test Curvine's performance. The test cases are as follows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# 256KB sequential read\nfio -iodepth=1 -rw=read \\\n-ioengine=libaio -bs=256k -group_reporting -size=100gb \\\n-filename=/curvine-fuse/0  -name=read_test --readonly \\\n-direct=1 --runtime=60 -numjobs={job_num}\n\n# 256K random read\nfio -iodepth=1 -rw=randread \\\n-ioengine=libaio -bs=256k -group_reporting -size=100gb \\\n-filename=/curvine-fuse/0  -name=read_test --readonly \\\n-direct=1 --runtime=60 -numjobs={job_num}\n\n# 4k random read\nfio -iodepth=1 -rw=randread \\\n-ioengine=libaio -bs=4k -group_reporting -size=100gb \\\n-filename=/curvine-fuse/0  -name=read_test --readonly \\\n-direct=1 --runtime=60 -numjobs={job_num}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"test-results",children:"Test Results"}),"\n",(0,s.jsx)(n.p,{children:"256KB sequential read:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Threads"}),(0,s.jsx)(n.th,{children:"1"}),(0,s.jsx)(n.th,{children:"2"}),(0,s.jsx)(n.th,{children:"4"}),(0,s.jsx)(n.th,{children:"8"}),(0,s.jsx)(n.th,{children:"16"}),(0,s.jsx)(n.th,{children:"32"}),(0,s.jsx)(n.th,{children:"64"}),(0,s.jsx)(n.th,{children:"128"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Throughput (GiB/s)"}),(0,s.jsx)(n.td,{children:"2.2"}),(0,s.jsx)(n.td,{children:"3.7"}),(0,s.jsx)(n.td,{children:"6.8"}),(0,s.jsx)(n.td,{children:"8.9"}),(0,s.jsx)(n.td,{children:"9.2"}),(0,s.jsx)(n.td,{children:"9.5"}),(0,s.jsx)(n.td,{children:"9.2"}),(0,s.jsx)(n.td,{children:"9.2"})]})})]}),"\n",(0,s.jsx)(n.p,{children:"256K random read:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Threads"}),(0,s.jsx)(n.th,{children:"1"}),(0,s.jsx)(n.th,{children:"2"}),(0,s.jsx)(n.th,{children:"4"}),(0,s.jsx)(n.th,{children:"8"}),(0,s.jsx)(n.th,{children:"16"}),(0,s.jsx)(n.th,{children:"32"}),(0,s.jsx)(n.th,{children:"64"}),(0,s.jsx)(n.th,{children:"128"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Throughput (GiB/s)"}),(0,s.jsx)(n.td,{children:"0.3"}),(0,s.jsx)(n.td,{children:"0.7"}),(0,s.jsx)(n.td,{children:"1.4"}),(0,s.jsx)(n.td,{children:"2.8"}),(0,s.jsx)(n.td,{children:"5.2"}),(0,s.jsx)(n.td,{children:"7.8"}),(0,s.jsx)(n.td,{children:"8.7"}),(0,s.jsx)(n.td,{children:"9.0"})]})})]}),"\n",(0,s.jsx)(n.p,{children:"4k random read:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Threads"}),(0,s.jsx)(n.th,{children:"1"}),(0,s.jsx)(n.th,{children:"2"}),(0,s.jsx)(n.th,{children:"4"}),(0,s.jsx)(n.th,{children:"8"}),(0,s.jsx)(n.th,{children:"16"}),(0,s.jsx)(n.th,{children:"32"}),(0,s.jsx)(n.th,{children:"64"}),(0,s.jsx)(n.th,{children:"128"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"IOPS(K)"}),(0,s.jsx)(n.td,{children:"2.5"}),(0,s.jsx)(n.td,{children:"5.1"}),(0,s.jsx)(n.td,{children:"12.5"}),(0,s.jsx)(n.td,{children:"25.4"}),(0,s.jsx)(n.td,{children:"42.1"}),(0,s.jsx)(n.td,{children:"85.0"}),(0,s.jsx)(n.td,{children:"138.4"}),(0,s.jsx)(n.td,{children:"186"})]})})]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var t=r(6540);const s={},i=t.createContext(s);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);